# .github/workflows/summary-example.yml
name: Job Summary Demo

# This workflow runs on manual trigger (workflow_dispatch)
on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Add a header to the summary
        run: echo '## Build and Test Report' >> $GITHUB_STEP_SUMMARY

      - name: Add a blockquote for important notes
        run: |
          echo '> **Note:** This is a summary of the automated build process.' >> $GITHUB_STEP_SUMMARY
          echo '' >> $GITHUB_STEP_SUMMARY # Add a blank line for spacing

      - name: Add test results using a table
        run: |
          echo '| Test Suite      | Result | Duration |' >> $GITHUB_STEP_SUMMARY
          echo '|-----------------|--------|----------|' >> $GITHUB_STEP_SUMMARY
          echo '| Unit Tests      | ✅ Pass | 1m 25s   |' >> $GITHUB_STEP_SUMMARY
          echo '| Integration Tests | ✅ Pass | 3m 10s   |' >> $GITHUB_STEP_SUMMARY
          echo '| Linter Checks   | ⚠️ Warn | 0m 45s   |' >> $GITHUB_STEP_SUMMARY

      - name: Add code coverage output in a code block
        run: |
          echo '' >> $GITHUB_STEP_SUMMARY # Add a blank line for spacing
          echo '### Code Coverage' >> $GITHUB_STEP_SUMMARY
          echo '```json' >> $GITHUB_STEP_SUMMARY
          echo '{' >> $GITHUB_STEP_SUMMARY
          echo '  "total_coverage": "92.7%",' >> $GITHUB_STEP_SUMMARY
          echo '  "files_changed": 5,' >> $GITHUB_STEP_SUMMARY
          echo '  "new_issues": 2' >> $GITHUB_STEP_SUMMARY
          echo '}' >> $GITHUB_STEP_SUMMARY
          echo '```' >> $GITHUB_STEP_SUMMARY

      - name: Add a final status message
        run: |
          echo '' >> $GITHUB_STEP_SUMMARY
          echo '### Final Status: Success with Warnings' >> $GITHUB_STEP_SUMMARY
          echo 'The workflow completed successfully, but please review the linter warnings.' >> $GITHUB_STEP_SUMMARY

